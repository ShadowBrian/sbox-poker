@using Sandbox.UI;
@using System;
@namespace Poker.UI

<root class="betting @VisibilityClass()">

	<plabel class="selected-action @HoverClass()">@HoverText()</plabel>

	<radialmenu class="radial-wheel" @ref="RadialWheel">
		<radialmenuitem name="Raise" icon="circle-arrow-up" action="adjust_amount">
		</RadialMenuItem>

		<radialmenuitem name="Fold" icon="circle-xmark" action="fold">
		</radialmenuitem>

		<radialmenuitem name="Check" icon="circle-check" action="submit">
		</radialmenuitem>
	</radialmenu>

</root>

@code
{
	public RadialMenu RadialWheel { get; set; }

	string HoverText()
	{
		return RadialWheel?.HoverText ?? "NONE";
	}

	string HoverClass()
	{
		if (RadialWheel?.IsActive ?? false)
			return "visible";

		return "";
	}

	string VisibilityClass()
	{
		if (Local.Pawn is Player player && player.IsMyTurn)
			return "visible";

		return "";
	}
}
